{"ast":null,"code":"var _jsxFileName = \"/Users/mefithernandez/Documents/xavier/ironhack/spot-connection/frontend/src/components/map/ShowPlace.js\";\nimport React, { Component } from 'react';\nimport FormPlace from '../Modal/FormPlace';\nimport { Button, Card } from 'antd';\nimport PLACE_SERVICE from '../../services/placeService';\nimport moment from 'moment';\nexport default class ShowPlace extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      place: {},\n      isEditing: false\n    };\n\n    this.showModalPlace = action => {\n      this.setState({\n        isEditing: action === 'edit',\n        visible: true\n      });\n    };\n\n    this.onCancel = e => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.onSubmit = (values, resetFields) => {\n      console.log(this.props);\n      values['id'] = this.props.userID;\n      PLACE_SERVICE.addPlace(values).then(res => {\n        this.setState({\n          visible: false,\n          place: res.data.place\n        });\n        console.log('Added place', res);\n        return resetFields();\n      }).catch(error => {\n        console.log('tengo errr:', error);\n      });\n    };\n\n    this.onEdit = data => {\n      console.log('valores previos del edit', this.state.place);\n      data['_id'] = this.state.place;\n      PLACE_SERVICE.editePlace(data['_id']).then(res => {\n        console.log('paso el edit?', this.setState.place);\n        this.setState({\n          visible: false,\n          place: res.data.place\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deletePlace = () => {\n      const _id = this.state.place._id;\n      PLACE_SERVICE.deletePlaceService(_id).then(res => {\n        this.setState({\n          place: {}\n        });\n        console.log(res);\n      }).catch(err => console.log(err));\n    };\n  }\n\n  componentDidMount() {\n    const userID = this.props.userID;\n    console.log('estado previo', this.state.place);\n    PLACE_SERVICE.showPlace(userID).then(res => {\n      if (res.data.place) {\n        console.log(typeof res.data.place);\n        this.setState({\n          place: res.data.place\n        });\n        console.log('estado nuevo??', this.state.place);\n      }\n    }).catch(err => console.log('este es mi error', err));\n  }\n\n  render() {\n    console.log('<<<<<<<<<', this.state.place);\n    let _this$state$place = this.state.place,\n        suburb = _this$state$place.suburb,\n        delegation = _this$state$place.delegation,\n        country = _this$state$place.country,\n        description = _this$state$place.description,\n        services = _this$state$place.services,\n        rules = _this$state$place.rules,\n        ocupationDate = _this$state$place.ocupationDate,\n        evictionDate = _this$state$place.evictionDate;\n    console.log('>>>>>>>>>', this.setState.place);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        width: \"70vw\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, suburb ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Button, {\n      style: {\n        float: \"right\"\n      },\n      type: \"primary\",\n      onClick: () => this.showModalPlace('edit'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Edit Place\"), React.createElement(Button, {\n      style: {\n        float: \"right\"\n      },\n      onClick: this.deletePlace,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Delete\")) : React.createElement(Button, {\n      style: {\n        float: \"right\"\n      },\n      type: \"primary\",\n      onClick: () => this.showModalPlace('add'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Add place\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, suburb, \" \", delegation, \" \", country), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, description), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, services), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, rules), ocupationDate && evictionDate ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, moment(ocupationDate).format('L'), \" - \", moment(evictionDate).format('L')) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }))), React.createElement(FormPlace, {\n      visible: this.state.visible,\n      isEditing: this.state.isEditing,\n      stateValues: this.state.place,\n      onCancel: this.onCancel,\n      onSubmit: this.onSubmit,\n      onEdit: this.onEdit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/mefithernandez/Documents/xavier/ironhack/spot-connection/frontend/src/components/map/ShowPlace.js"],"names":["React","Component","FormPlace","Button","Card","PLACE_SERVICE","moment","ShowPlace","state","place","isEditing","showModalPlace","action","setState","visible","onCancel","e","onSubmit","values","resetFields","console","log","props","userID","addPlace","then","res","data","catch","error","onEdit","editePlace","err","deletePlace","_id","deletePlaceService","componentDidMount","showPlace","render","suburb","delegation","country","description","services","rules","ocupationDate","evictionDate","width","float","format"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport FormPlace from '../Modal/FormPlace'\nimport { Button, Card } from 'antd';\nimport PLACE_SERVICE from '../../services/placeService'\nimport moment from 'moment';\n\nexport default class ShowPlace extends Component {\n  state = {\n    place: {},\n    isEditing: false,\n  }\n\n  componentDidMount() {\n    const { userID } = this.props\n    console.log('estado previo', this.state.place)\n    PLACE_SERVICE.showPlace(userID)\n      .then((res) => {\n        if (res.data.place) {\n          console.log(typeof res.data.place)\n          this.setState({ place: res.data.place })\n          console.log('estado nuevo??', this.state.place)\n        }\n      })\n      .catch((err) => console.log('este es mi error', err))\n  }\n\n\n  showModalPlace = (action) => {\n    this.setState({\n      isEditing: action === 'edit',\n      visible: true,\n    });\n  };\n\n  onCancel = e => {\n    this.setState({\n      visible: false\n    })\n  }\n\n  onSubmit = (values, resetFields) => {\n    console.log(this.props)\n    values['id'] = this.props.userID\n    PLACE_SERVICE.addPlace(values)\n      .then(res => {\n        this.setState({\n          visible: false,\n          place: res.data.place\n        })\n        console.log('Added place', res)\n        return resetFields();\n      })\n      .catch((error) => {\n        console.log('tengo errr:', error);\n      })\n  }\n\n  onEdit = (data) => {\n    console.log('valores previos del edit', this.state.place)\n    data['_id'] = this.state.place\n\n    PLACE_SERVICE.editePlace(data['_id'])\n      .then(res => {\n        console.log('paso el edit?', this.setState.place)\n        this.setState({\n          visible: false,\n          place: res.data.place\n        })\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  deletePlace = () => {\n    const { _id } = this.state.place\n    PLACE_SERVICE.deletePlaceService(_id)\n      .then((res) => {\n        this.setState({\n          place: {}\n        })\n        console.log(res)\n      })\n      .catch((err) => console.log(err))\n  }\n\n  render() {\n    console.log('<<<<<<<<<', this.state.place)\n    let { suburb, delegation, country, description, services, rules, ocupationDate, evictionDate } = this.state.place\n    console.log('>>>>>>>>>', this.setState.place)\n    return (\n      <div>\n        <Card style={{ width: \"70vw\" }}>\n          {suburb ?\n            <div>\n              <Button style={{ float: \"right\" }} type=\"primary\" onClick={() => this.showModalPlace('edit')}>Edit Place</Button>\n              <Button style={{ float: \"right\" }} onClick={this.deletePlace}>Delete</Button>\n            </div> :\n            <Button style={{ float: \"right\" }} type=\"primary\" onClick={() => this.showModalPlace('add')}>Add place</Button>\n          }\n          <br />\n          <br />\n          <div>\n            <p>{suburb} {delegation} {country}</p>\n            <p>{description}</p>\n            <p>{services}</p>\n            <p>{rules}</p>\n            {\n              ocupationDate && evictionDate ?\n                (<p>{moment(ocupationDate).format('L')} - {moment(evictionDate).format('L')}</p>) :\n                (<p></p>)\n            }\n          </div>\n        </Card>\n        <FormPlace\n          visible={this.state.visible}\n          isEditing={this.state.isEditing}\n          stateValues={this.state.place}\n          onCancel={this.onCancel}\n          onSubmit={this.onSubmit}\n          onEdit={this.onEdit}\n        />\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}