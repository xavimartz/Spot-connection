{"ast":null,"code":"var _jsxFileName = \"/Users/mefithernandez/Documents/xavier/ironhack/spot-connection/frontend/src/components/map/ShowPlace.js\";\nimport React, { Component } from 'react';\nimport FormPlace from '../Modal/FormPlace';\nimport { Button, Card } from 'antd';\nimport PLACE_SERVICE from '../../services/placeService';\nimport moment from 'moment';\nexport default class ShowPlace extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      place: {\n        suburb: '',\n        delegation: '',\n        country: '',\n        description: '',\n        services: '',\n        rules: '',\n        ocupationDate: '',\n        evictionDate: ''\n      }\n    };\n\n    this.deletePlace = () => {\n      console.log('estado previo a borrar', this.state.place);\n      const _id = this.state.place._id;\n      PLACE_SERVICE.deletePlaceService(_id).then(res => {\n        this.setState({\n          place: {}\n        });\n        console.log(res);\n      }).catch(err => console.log(err));\n    };\n\n    this.showModalPlace = () => {\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.handleCancel = e => {\n      console.log(e);\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.onCancel = e => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.onSubmit = () => {\n      let place = this.state.place;\n      place['id'] = this.props.userID;\n      PLACE_SERVICE.addPlace(place).then(res => {\n        this.setState({\n          visible: false,\n          place: res.data.place\n        });\n        console.log('estado al crear un lugar', this.state.place);\n      }).catch(error => {\n        console.log('tengo errr:', error);\n      });\n    };\n\n    this.handleInput = e => {\n      const place = this.state.place;\n      const key = e.target.name;\n      place[key] = e.target.value;\n      this.setState({\n        place\n      });\n    };\n\n    this.onChangeDate = (date, dateString) => {\n      const place = this.state.place;\n      place['ocupationDate'] = dateString[0];\n      place['evictionDate'] = dateString[1];\n      this.setState({\n        place\n      });\n    };\n  }\n\n  componentDidMount() {\n    const userID = this.props.userID;\n    console.log('estado previo', this.state.place);\n    PLACE_SERVICE.showPlace(userID).then(res => {\n      if (res.data.place) {\n        console.log(typeof res.data.place);\n        this.setState({\n          place: res.data.place\n        });\n        console.log('estado nuevo??', this.state.place);\n      }\n    }).catch(err => console.log('este es mi error', err));\n  }\n\n  render() {\n    let _this$state$place = this.state.place,\n        suburb = _this$state$place.suburb,\n        delegation = _this$state$place.delegation,\n        country = _this$state$place.country,\n        description = _this$state$place.description,\n        services = _this$state$place.services,\n        rules = _this$state$place.rules,\n        ocupationDate = _this$state$place.ocupationDate,\n        evictionDate = _this$state$place.evictionDate;\n    console.log('state', this.state);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        width: \"70vw\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, suburb ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Button, {\n      style: {\n        float: \"right\"\n      },\n      type: \"primary\",\n      onClick: this.showModalPlace,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Edit Place\"), React.createElement(Button, {\n      style: {\n        float: \"right\"\n      },\n      onClick: this.deletePlace,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Delete\")) : React.createElement(Button, {\n      style: {\n        float: \"right\"\n      },\n      type: \"primary\",\n      onClick: this.showModalPlace,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Add place\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, suburb, \" \", delegation, \" \", country), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, description), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, services), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, rules), ocupationDate && evictionDate ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, moment(ocupationDate).format('L'), \" - \", moment(evictionDate).format('L')) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }))), React.createElement(FormPlace, {\n      place: this.state.place,\n      onCancel: this.onCancel,\n      onSubmit: this.onSubmit,\n      handleInput: this.handleInput,\n      visible: this.state.visible,\n      handleCancel: this.handleCancel,\n      onChangeDate: this.onChangeDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/mefithernandez/Documents/xavier/ironhack/spot-connection/frontend/src/components/map/ShowPlace.js"],"names":["React","Component","FormPlace","Button","Card","PLACE_SERVICE","moment","ShowPlace","state","place","suburb","delegation","country","description","services","rules","ocupationDate","evictionDate","deletePlace","console","log","_id","deletePlaceService","then","res","setState","catch","err","showModalPlace","visible","handleCancel","e","onCancel","onSubmit","props","userID","addPlace","data","error","handleInput","key","target","name","value","onChangeDate","date","dateString","componentDidMount","showPlace","render","width","float","format"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport FormPlace from '../Modal/FormPlace'\nimport { Button, Card } from 'antd';\nimport PLACE_SERVICE from '../../services/placeService'\nimport moment from 'moment';\n\nexport default class ShowPlace extends Component {\n  state = {\n    place: {\n      suburb: '', delegation: '', country: '', description: '', services: '', rules: '', ocupationDate: '', evictionDate: ''\n    }\n  }\n\n  componentDidMount() {\n    const { userID } = this.props\n    console.log('estado previo', this.state.place)\n    PLACE_SERVICE.showPlace(userID)\n      .then((res) => {\n        if (res.data.place) {\n          console.log(typeof res.data.place)\n          this.setState({ place: res.data.place })\n          console.log('estado nuevo??', this.state.place)\n        }\n      })\n      .catch((err) => console.log('este es mi error', err))\n  }\n\n  deletePlace = () => {\n    console.log('estado previo a borrar', this.state.place)\n    const { _id } = this.state.place\n    PLACE_SERVICE.deletePlaceService(_id)\n      .then((res) => {\n        this.setState({\n          place: {}\n        })\n        console.log(res)\n      })\n      .catch((err) => console.log(err))\n  }\n\n  showModalPlace = () => {\n    this.setState({\n      visible: true,\n    });\n  };\n\n  handleCancel = e => {\n    console.log(e);\n    this.setState({\n      visible: false,\n    });\n  };\n\n  onCancel = e => {\n    this.setState({\n      visible: false\n    })\n  }\n\n  onSubmit = () => {\n    let { place } = this.state\n    place['id'] = this.props.userID\n    PLACE_SERVICE.addPlace(place)\n      .then(res => {\n        this.setState({\n          visible: false,\n          place: res.data.place\n        })\n        console.log('estado al crear un lugar', this.state.place)\n      })\n      .catch((error) => {\n        console.log('tengo errr:', error);\n      })\n  }\n\n  handleInput = (e) => {\n    const { place } = this.state\n    const key = e.target.name\n    place[key] = e.target.value\n    this.setState({ place })\n  }\n  onChangeDate = (date, dateString) => {\n    const { place } = this.state\n    place['ocupationDate'] = dateString[0]\n    place['evictionDate'] = dateString[1]\n    this.setState({ place })\n  }\n\n  render() {\n    let { suburb, delegation, country, description, services, rules, ocupationDate, evictionDate } = this.state.place\n    console.log('state', this.state)\n    return (\n      <div>\n        <Card style={{ width: \"70vw\" }}>\n          {suburb ?\n            <div>\n              <Button style={{ float: \"right\" }} type=\"primary\" onClick={this.showModalPlace}>Edit Place</Button>\n              <Button style={{ float: \"right\" }} onClick={this.deletePlace}>Delete</Button>\n            </div> :\n            <Button style={{ float: \"right\" }} type=\"primary\" onClick={this.showModalPlace}>Add place</Button>\n          }\n          <br />\n          <br />\n          <div>\n            <p>{suburb} {delegation} {country}</p>\n            <p>{description}</p>\n            <p>{services}</p>\n            <p>{rules}</p>\n            {\n              ocupationDate && evictionDate ?\n                (<p>{moment(ocupationDate).format('L')} - {moment(evictionDate).format('L')}</p>) :\n                (<p></p>)\n            }\n          </div>\n        </Card>\n        <FormPlace\n          place={this.state.place}\n          onCancel={this.onCancel}\n          onSubmit={this.onSubmit}\n          handleInput={this.handleInput}\n          visible={this.state.visible}\n          handleCancel={this.handleCancel}\n          onChangeDate={this.onChangeDate} />\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}