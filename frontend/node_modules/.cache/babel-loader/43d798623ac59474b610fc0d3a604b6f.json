{"ast":null,"code":"var _jsxFileName = \"/Users/mefithernandez/Documents/xavier/ironhack/spot-connection/frontend/src/components/map/Dashboard.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport PLACE_SERVICE from '../../services/placeService';\nimport Nav from '../home/Nav';\nexport default class Dashboard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: {},\n      places: []\n    };\n\n    this.logOut = async () => {\n      await axios.get('http://localhost:3000/api/logout');\n      localStorage.removeItem('user');\n      this.props.history.push('/login');\n    };\n  }\n\n  //estado de logeo\n  componentDidMount() {\n    if (localStorage.user) {\n      let user = JSON.parse(localStorage.user);\n      this.setState({\n        user\n      });\n    }\n\n    if (!localStorage.user) {\n      return this.props.history.push('/login');\n    }\n  }\n\n  componentDidMount() {\n    const placeID = this.props.placeID;\n    PLACE_SERVICE.showAllPlace(placeID).then(res => {\n      if (res.data.places) {\n        console.log(res.data.places);\n        this.setState({\n          places: [...data.places]\n        });\n        console.log('estado nuevo??', this.state.places);\n      }\n    }).catch(err => console.log('este es mi error', err));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-evenly',\n        flexWrap: 'wrap',\n        width: '100vw',\n        height: '100vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      logOut: this.logOut,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), places.map(place => React.createElement(Card, {\n      title: place.name,\n      style: {\n        width: '25%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/mefithernandez/Documents/xavier/ironhack/spot-connection/frontend/src/components/map/Dashboard.js"],"names":["React","Component","axios","PLACE_SERVICE","Nav","Dashboard","state","user","places","logOut","get","localStorage","removeItem","props","history","push","componentDidMount","JSON","parse","setState","placeID","showAllPlace","then","res","data","console","log","catch","err","render","display","alignItems","justifyContent","flexWrap","width","height","map","place","name"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,GAAP,MAAgB,aAAhB;AAEA,eAAe,MAAMC,SAAN,SAAwBJ,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAC/CK,KAD+C,GACvC;AACNC,MAAAA,IAAI,EAAE,EADA;AAENC,MAAAA,MAAM,EAAE;AAFF,KADuC;;AAAA,SA8B/CC,MA9B+C,GA8BtC,YAAY;AACnB,YAAMP,KAAK,CAACQ,GAAN,CAAU,kCAAV,CAAN;AACAC,MAAAA,YAAY,CAACC,UAAb,CAAwB,MAAxB;AACA,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACD,KAlC8C;AAAA;;AAK/C;AACAC,EAAAA,iBAAiB,GAAG;AAClB,QAAIL,YAAY,CAACJ,IAAjB,EAAuB;AACrB,UAAIA,IAAI,GAAGU,IAAI,CAACC,KAAL,CAAWP,YAAY,CAACJ,IAAxB,CAAX;AACA,WAAKY,QAAL,CAAc;AAAEZ,QAAAA;AAAF,OAAd;AAED;;AACD,QAAI,CAACI,YAAY,CAACJ,IAAlB,EAAwB;AACtB,aAAO,KAAKM,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,CAAP;AACD;AACF;;AAEDC,EAAAA,iBAAiB,GAAG;AAAA,UACVI,OADU,GACE,KAAKP,KADP,CACVO,OADU;AAElBjB,IAAAA,aAAa,CAACkB,YAAd,CAA2BD,OAA3B,EACGE,IADH,CACSC,GAAD,IAAS;AACb,UAAIA,GAAG,CAACC,IAAJ,CAAShB,MAAb,EAAqB;AACnBiB,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACC,IAAJ,CAAShB,MAArB;AACA,aAAKW,QAAL,CAAc;AAAEX,UAAAA,MAAM,EAAE,CAAC,GAAGgB,IAAI,CAAChB,MAAT;AAAV,SAAd;AACAiB,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B,KAAKpB,KAAL,CAAWE,MAAzC;AACD;AACF,KAPH,EAQGmB,KARH,CAQUC,GAAD,IAASH,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCE,GAAhC,CARlB;AASD;;AAQDC,EAAAA,MAAM,GAAG;AACP,WACE;AACE,MAAA,KAAK,EAAE;AACLC,QAAAA,OAAO,EAAE,MADJ;AAELC,QAAAA,UAAU,EAAE,QAFP;AAGLC,QAAAA,cAAc,EAAE,cAHX;AAILC,QAAAA,QAAQ,EAAE,MAJL;AAKLC,QAAAA,KAAK,EAAE,OALF;AAMLC,QAAAA,MAAM,EAAE;AANH,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OASE,oBAAC,GAAD;AAAK,MAAA,MAAM,EAAE,KAAK1B,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,EAUGD,MAAM,CAAC4B,GAAP,CAAYC,KAAD,IACV,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEA,KAAK,CAACC,IAAnB;AAAyB,MAAA,KAAK,EAAE;AAAEJ,QAAAA,KAAK,EAAE;AAAT,OAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CAVH,CADF;AAkBD;;AAvD8C","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport PLACE_SERVICE from '../../services/placeService'\nimport Nav from '../home/Nav'\n\nexport default class Dashboard extends Component {\n  state = {\n    user: {},\n    places: []\n  }\n  //estado de logeo\n  componentDidMount() {\n    if (localStorage.user) {\n      let user = JSON.parse(localStorage.user)\n      this.setState({ user })\n\n    }\n    if (!localStorage.user) {\n      return this.props.history.push('/login')\n    }\n  }\n\n  componentDidMount() {\n    const { placeID } = this.props\n    PLACE_SERVICE.showAllPlace(placeID)\n      .then((res) => {\n        if (res.data.places) {\n          console.log(res.data.places)\n          this.setState({ places: [...data.places] });\n          console.log('estado nuevo??', this.state.places)\n        }\n      })\n      .catch((err) => console.log('este es mi error', err))\n  }\n\n  logOut = async () => {\n    await axios.get('http://localhost:3000/api/logout')\n    localStorage.removeItem('user')\n    this.props.history.push('/login')\n  }\n\n  render() {\n    return (\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-evenly',\n          flexWrap: 'wrap',\n          width: '100vw',\n          height: '100vh'\n        }}>\n        <Nav logOut={this.logOut}></Nav>\n        {places.map((place) => (\n          <Card title={place.name} style={{ width: '25%' }}>\n\n          </Card>\n        ))}\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}