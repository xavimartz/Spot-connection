{"ast":null,"code":"var _jsxFileName = \"/Users/mefithernandez/Documents/xavier/ironhack/spot-connection/frontend/src/components/map/Dashboard.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport PLACE_SERVICE from '../../services/placeService';\nimport Nav from '../home/Nav';\nimport { Card } from 'antd';\nimport moment from 'moment';\nexport default class Dashboard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      places: []\n    };\n\n    this.logOut = async () => {\n      await axios.get('http://localhost:3000/api/logout');\n      localStorage.removeItem('user');\n      this.props.history.push('/login');\n    };\n  }\n\n  componentDidMount() {\n    PLACE_SERVICE.showAllPlace().then(({\n      data\n    }) => {\n      if (data) this.setState({\n        places: [...data]\n      });\n    }).catch(err => console.log('este es mi error', err));\n  }\n\n  render() {\n    console.log('estos son los props', this.props);\n    console.log('este el state', this.state);\n    const places = this.state.places;\n    return React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        flexDirection: 'column',\n        width: '100vw',\n        height: '100vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      logOut: this.logOut,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-evenly',\n        flexWrap: 'wrap',\n        width: '70vw',\n        height: '100vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, places.map(place => React.createElement(Card, {\n      title: place.owner.name,\n      style: {\n        width: '33%',\n        height: '30vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      key: \"address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, place.suburb, \", \", place.delegation, \", \", place.country), React.createElement(\"p\", {\n      key: \"desc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, place.description), React.createElement(\"p\", {\n      key: \"service\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, place.services), React.createElement(\"p\", {\n      key: \"rules\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, place.rules), place.ocupationDate && place.evictionDate ? React.createElement(\"p\", {\n      key: \"dates\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, moment(place.ocupationDate).format('L'), \" - \", moment(place.evictionDate).format('L')) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/mefithernandez/Documents/xavier/ironhack/spot-connection/frontend/src/components/map/Dashboard.js"],"names":["React","Component","axios","PLACE_SERVICE","Nav","Card","moment","Dashboard","state","places","logOut","get","localStorage","removeItem","props","history","push","componentDidMount","showAllPlace","then","data","setState","catch","err","console","log","render","display","alignItems","flexDirection","width","height","justifyContent","flexWrap","map","place","owner","name","suburb","delegation","country","description","services","rules","ocupationDate","evictionDate","format"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport PLACE_SERVICE from '../../services/placeService'\nimport Nav from '../home/Nav'\nimport { Card } from 'antd'\nimport moment from 'moment'\n\nexport default class Dashboard extends Component {\n  state = {\n    places: []\n  }\n\n  componentDidMount() {\n    PLACE_SERVICE.showAllPlace()\n      .then(({ data }) => {\n        if (data) this.setState({ places: [...data] });\n      })\n      .catch((err) => console.log('este es mi error', err))\n  }\n\n  logOut = async () => {\n    await axios.get('http://localhost:3000/api/logout')\n    localStorage.removeItem('user')\n    this.props.history.push('/login')\n  }\n\n  render() {\n    console.log('estos son los props', this.props)\n    console.log('este el state', this.state)\n    const { places } = this.state\n    return (\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          flexDirection: 'column',\n          width: '100vw',\n          height: '100vh'\n        }}>\n        <Nav logOut={this.logOut}></Nav>\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-evenly',\n            flexWrap: 'wrap',\n            width: '70vw',\n            height: '100vh'\n          }}>\n          {places.map((place) => (\n            <Card title={place.owner.name} style={{ width: '33%', height: '30vh' }}>\n              <div>\n                <p key=\"address\">{place.suburb}, {place.delegation}, {place.country}</p>\n                <p key=\"desc\">{place.description}</p>\n                <p key=\"service\">{place.services}</p>\n                <p key=\"rules\">{place.rules}</p>\n                {\n                  place.ocupationDate && place.evictionDate ?\n                    (<p key=\"dates\">{moment(place.ocupationDate).format('L')} - {moment(place.evictionDate).format('L')}</p>) :\n                    (<p></p>)\n                }\n              </div>\n            </Card>\n          ))}\n        </div>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}